<div align="center">

# ğŸ½ï¸ A## âœ¨ Funcionalidades

### ğŸ¤– **Intelig---

## ğŸŒ URL Base da API

```bash
ğŸ”— https://api-receitas-pi.vercel.app
```

---

## ğŸ” AutenticaÃ§Ã£o e SeguranÃ§a

A API utiliza **JWT (JSON Web Tokens)** para autenticaÃ§Ã£o segura. Para acessar funcionalidades protegidas:

### ğŸ“‹ **PrÃ©-requisitos para Rotas Protegidas:**
1. **Login** - Obtenha seu token JWT
2. **Header Authorization** - Inclua `Authorization: Bearer <seu-token>`
3. **Acesso** - Utilize funcionalidades de IA e criaÃ§Ã£o de receitas

### âš¡ **BenefÃ­cios da AutenticaÃ§Ã£o:**
- ğŸ¯ Acesso Ã s funcionalidades de IA premium
- ğŸ“Š CriaÃ§Ã£o e gerenciamento de receitas personalizadas
- ğŸ”’ SeguranÃ§a aprimorada para suas operaÃ§Ãµes

---icial GastronÃ´mica**
> *Revolucionando a criaÃ§Ã£o de receitas com IA de Ãºltima geraÃ§Ã£o*

- ğŸ² **Receitas AleatÃ³rias**: Gere receitas completamente Ãºnicas usando inteligÃªncia artificial avanÃ§ada
- ğŸ“‚ **Receitas por Categoria**: Crie receitas especÃ­ficas (doce, salgado, agridoce) adaptadas ao seu gosto
- ğŸŒ **CulinÃ¡ria Mundial**: Explore sabores de diferentes culturas (italiana, japonesa, brasileira, francesa, etc.)
- ğŸ§ª **Ingredientes Inteligentes**: IA analisa combinaÃ§Ãµes e sugere ingredientes complementares perfeitos
- ğŸ¯ **PersonalizaÃ§Ã£o Total**: Receitas adaptadas Ã s suas preferÃªncias e restriÃ§Ãµes alimentares

### ğŸ“Š **Sistema de NavegaÃ§Ã£o AvanÃ§ado**
- ğŸ“„ **PaginaÃ§Ã£o Inteligente**: Navegue facilmente atravÃ©s de milhares de receitas
- âš¡ **Performance Otimizada**: Carregamento rÃ¡pido mesmo com grandes volumes de dados
- ğŸ”¢ **Controle FlexÃ­vel**: Defina quantos resultados deseja ver por pÃ¡gina (atÃ© 100)

### ğŸ” **Busca Inteligente e Filtros**
- ğŸ” **Busca SemÃ¢ntica**: Encontre receitas por descriÃ§Ã£o, nome ou ingredientes
- ğŸ·ï¸ **Filtros AvanÃ§ados**: Filtre por tipo de receita, categoria e muito mais
- ğŸ“ **Busca por Ingredientes**: Descubra receitas baseadas nos ingredientes que vocÃª tem em casa

### ğŸ›¡ï¸ **SeguranÃ§a e AutenticaÃ§Ã£o**
- ğŸ” **JWT Authentication**: Sistema seguro de autenticaÃ§Ã£o baseado em tokens
- ğŸ‘¤ **Gerenciamento de UsuÃ¡rios**: CriaÃ§Ã£o e gerenciamento de contas de usuÃ¡rio
- ğŸ”’ **Rotas Protegidas**: Acesso controlado Ã s funcionalidades premium de IA# *InteligÃªncia Artificial aplicada Ã  Gastronomia*

<p>
<img src="https://img.shields.io/github/issues/DenilsonRabelo/API-Receitas?style=for-the-badge&logo=github&color=FF6B6B"/>
<img src="https://img.shields.io/github/forks/DenilsonRabelo/API-Receitas?style=for-the-badge&logo=github&color=4ECDC4"/>
<img src="https://img.shields.io/github/stars/DenilsonRabelo/API-Receitas?style=for-the-badge&logo=github&color=45B7D1"/>
<img src="https://img.shields.io/github/license/DenilsonRabelo/API-Receitas?style=for-the-badge&logo=mit&color=96CEB4"/>
</p>

<p>
<img src="https://img.shields.io/badge/NestJS-E0234E?style=for-the-badge&logo=nestjs&logoColor=white"/>
<img src="https://img.shields.io/badge/PostgreSQL-316192?style=for-the-badge&logo=postgresql&logoColor=white"/>
<img src="https://img.shields.io/badge/Prisma-3982CE?style=for-the-badge&logo=Prisma&logoColor=white"/>
<img src="https://img.shields.io/badge/Ollama-000000?style=for-the-badge&logo=ollama&logoColor=white"/>
<img src="https://img.shields.io/badge/TypeScript-007ACC?style=for-the-badge&logo=typescript&logoColor=white"/>
</p>

> **Uma API revolucionÃ¡ria de receitas culinÃ¡rias que combina banco de dados robusto com inteligÃªncia artificial avanÃ§ada para criar experiÃªncias gastronÃ´micas Ãºnicas e personalizadas.**

*Utilizando tecnologia Ollama IA, nossa API nÃ£o apenas fornece receitas tradicionais, mas tambÃ©m gera receitas inovadoras com base em categorias especÃ­ficas, tipos de cozinha mundial e preferÃªncias personalizadas.*

</div>

<h1 align="center">
  <img height="500" alt="comida" title="comida" src="https://media.tenor.com/images/3e4d211cd661a2d7125a6fa12d6cecc6/tenor.gif"/>
</h1>

## ï¿½ Funcionalidades

### ğŸ¤– GeraÃ§Ã£o de Receitas com IA
- **Receitas AleatÃ³rias**: Gere receitas completamente novas usando inteligÃªncia artificial
- **Receitas por Categoria**: Crie receitas especÃ­ficas (doce, salgado, agridoce)
- **Receitas por Tipo de Cozinha**: Gere receitas de diferentes culinÃ¡rias mundiais
- **Ingredientes Inteligentes**: IA sugere ingredientes complementares

### ğŸ“Š Sistema de PaginaÃ§Ã£o
- NavegaÃ§Ã£o otimizada atravÃ©s de grandes volumes de receitas
- Controle de limite de resultados por pÃ¡gina
- Performance melhorada para consultas extensas

### ğŸ” Busca AvanÃ§ada
- Pesquisa por descriÃ§Ã£o/nome da receita
- Filtros por tipo de receita
- Busca por ingredientes especÃ­ficos

## ï¿½ğŸ“¦ URL BASE
```bash
https://api-receitas-pi.vercel.app
```

## ğŸ” AutenticaÃ§Ã£o

A API utiliza autenticaÃ§Ã£o JWT para rotas protegidas. Para acessar as funcionalidades de IA e criaÃ§Ã£o de receitas, vocÃª precisa:

1. Fazer login para obter o token JWT
2. Incluir o token no header `Authorization: Bearer <token>`

## ï¿½ï¸ Endpoints da API

### ğŸ  **Rota Principal**

<details>
<summary><code>GET /</code> - Mensagem de Boas-vindas</summary>

```http
GET /
```
**Resposta:** Mensagem de boas-vindas da API
</details>

---

### ğŸ‘¤ **AutenticaÃ§Ã£o**

<details>
<summary><code>POST /login</code> - Fazer Login</summary>

```http
POST /login
Content-Type: application/json

{
  "email": "usuario@email.com",
  "password": "senha123"
}
```

**Resposta:**
```json
{
  "access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "user": {
    "id": 1,
    "name": "Nome do UsuÃ¡rio",
    "email": "usuario@email.com"
  }
}
```
</details>

<details>
<summary><code>POST /usuario</code> - Criar UsuÃ¡rio ğŸ”’</summary>

```http
POST /usuario
Authorization: Bearer <token>
Content-Type: application/json

{
  "name": "Nome do UsuÃ¡rio",
  "email": "usuario@email.com",
  "password": "senha123"
}
```
</details>

---

### ğŸ½ï¸ **Receitas**

<details>
<summary><code>GET /receitas/todas</code> - Listar Receitas (Paginado) ğŸ“„</summary>

```http
GET /receitas/todas?page=1&limit=10
```

**ParÃ¢metros de Query:**
- `page` (opcional): NÃºmero da pÃ¡gina (padrÃ£o: 1)
- `limit` (opcional): Receitas por pÃ¡gina (mÃ¡ximo: 100, padrÃ£o: 10)

**Exemplo:**
```javascript
// Buscar 20 receitas da primeira pÃ¡gina
fetch("https://api-receitas-pi.vercel.app/receitas/todas?page=1&limit=20")
    .then(response => response.json())
    .then(data => {
        console.log('Receitas:', data.data);
        console.log('PaginaÃ§Ã£o:', data.meta);
    });
```

**Formato de Resposta:**
```json
{
  "data": [...],
  "meta": {
    "page": 1,
    "limit": 10,
    "itemCount": 10,
    "pageCount": 5,
    "hasPreviousPage": false,
    "hasNextPage": true
  }
}
```
</details>

<details>
<summary><code>GET /receitas/descricao</code> - Buscar por DescriÃ§Ã£o (Paginado) ğŸ”</summary>

```http
GET /receitas/descricao?descricao=chocolate&page=1&limit=15
```

**ParÃ¢metros de Query:**
- `descricao` (obrigatÃ³rio): Termo de busca na descriÃ§Ã£o/nome
- `page` (opcional): NÃºmero da pÃ¡gina
- `limit` (opcional): Receitas por pÃ¡gina

**Exemplo:**
```javascript
// Buscar receitas com "chocolate" no nome
const termo = encodeURIComponent("chocolate");
fetch(`https://api-receitas-pi.vercel.app/receitas/descricao?descricao=${termo}&page=1&limit=5`)
    .then(response => response.json())
    .then(data => console.log(data));
```
</details>

<details>
<summary><code>GET /receitas/:id</code> - Buscar Receita por ID</summary>

```http
GET /receitas/1
```

**Exemplo de Resposta:**
```json
{
  "id": 1,
  "receita": "Bolo de Chocolate",
  "ingredientes": "2 xÃ­caras de farinha, 1 xÃ­cara de cacau...",
  "modo_preparo": "Misture os ingredientes secos...",
  "link_imagem": "https://exemplo.com/imagem.jpg",
  "tipo": "doce",
  "created_at": "2023-11-22T15:52:56.000Z"
}
```
</details>

<details>
<summary><code>GET /receitas/tipo/:tipo</code> - Buscar por Tipo</summary>

```http
GET /receitas/tipo/doce
```

**Tipos disponÃ­veis:**
- `doce` ğŸ°
- `salgado` ğŸ¥˜  
- `agridoce` ğŸ¯
</details>

<details>
<summary><code>GET /receitas/ingredientes/:id</code> - Ingredientes da Receita</summary>

```http
GET /receitas/ingredientes/1
```
</details>

<details>
<summary><code>POST /receitas</code> - Criar Receita com IA ğŸ”’ğŸ¤–</summary>

```http
POST /receitas
Authorization: Bearer <token>
```
**DescriÃ§Ã£o:** Gera automaticamente uma nova receita usando IA
</details>

<details>
<summary><code>DELETE /receitas/:id</code> - Deletar Receita ğŸ”’</summary>

```http
DELETE /receitas/1
Authorization: Bearer <token>
```
</details>

---

### ğŸ¤– **InteligÃªncia Artificial - Ollama IA**

<details>
<summary><code>POST /ollama-ia/chat</code> - Receita AleatÃ³ria com IA ğŸ”’ğŸ²</summary>

```http
POST /ollama-ia/chat
Authorization: Bearer <token>
```

**DescriÃ§Ã£o:** Gera uma receita completamente nova e Ãºnica usando inteligÃªncia artificial avanÃ§ada.

**Exemplo:**
```javascript
fetch("https://api-receitas-pi.vercel.app/ollama-ia/chat", {
    method: 'POST',
    headers: {
        'Authorization': 'Bearer seu-token-jwt'
    }
})
.then(response => response.json())
.then(receita => console.log('Receita aleatÃ³ria gerada:', receita));
```
</details>

<details>
<summary><code>POST /ollama-ia/chat/categoria</code> - Receita por Categoria ğŸ”’ğŸŒ</summary>

```http
POST /ollama-ia/chat/categoria?categoria=doce&cozinha=italiana
Authorization: Bearer <token>
```

**ParÃ¢metros de Query:**
- `categoria` (obrigatÃ³rio): Tipo da receita
  - `doce` ğŸ° - Sobremesas, bolos, tortas
  - `salgado` ğŸ¥˜ - Pratos principais, aperitivos
  - `agridoce` ğŸ¯ - CombinaÃ§Ãµes Ãºnicas de sabores
- `cozinha` (opcional): Tipo de culinÃ¡ria mundial
  - `italiana` ğŸ‡®ğŸ‡¹, `japonesa` ğŸ‡¯ğŸ‡µ, `brasileira` ğŸ‡§ğŸ‡·, `francesa` ğŸ‡«ğŸ‡·
  - `chinesa` ğŸ‡¨ğŸ‡³, `mexicana` ğŸ‡²ğŸ‡½, `indiana` ğŸ‡®ğŸ‡³, `tailandesa` ğŸ‡¹ğŸ‡­

**Exemplos:**
```javascript
// Receita doce italiana
fetch("https://api-receitas-pi.vercel.app/ollama-ia/chat/categoria?categoria=doce&cozinha=italiana", {
    method: 'POST',
    headers: { 'Authorization': 'Bearer seu-token-jwt' }
});

// Receita salgada japonesa
fetch("https://api-receitas-pi.vercel.app/ollama-ia/chat/categoria?categoria=salgado&cozinha=japonesa", {
    method: 'POST',
    headers: { 'Authorization': 'Bearer seu-token-jwt' }
});
```
</details>

---

## ğŸ“„ Formato de Resposta das Receitas

```json
{
  "id": 1,
  "receita": "Bolo de Chocolate",
  "ingredientes": "2 xÃ­caras de farinha, 1 xÃ­cara de cacau...",
  "modo_preparo": "Misture os ingredientes secos...",
  "link_imagem": "https://exemplo.com/imagem.jpg",
  "tipo": "doce",
  "created_at": "2023-11-22T15:52:56.000Z",
  "IngredientesBase": [
    {
      "id": 1,
      "nomesIngrediente": ["farinha", "cacau", "aÃ§Ãºcar"],
      "receita_id": 1,
      "created_at": "2023-11-22T15:52:56.000Z"
    }
  ]
}
```

## ğŸ“Š Formato de Resposta Paginada

```json
{
  "data": [...], // Array de receitas
  "meta": {
    "page": 1,
    "limit": 10,
    "itemCount": 10,
    "pageCount": 5,
    "hasPreviousPage": false,
    "hasNextPage": true
  },
  "links": {
    "first": "?limit=10",
    "previous": "",
    "next": "?page=2&limit=10",
    "last": "?page=5&limit=10"
  }
}
```

## ğŸ›¡ï¸ Rate Limiting

A API possui limitaÃ§Ã£o de taxa para prevenir abuso:
- **Limite:** 100 requisiÃ§Ãµes por minuto por IP
- **Janela de tempo:** 60 segundos

---
## ğŸŒŸ Exemplos de Uso Completos

### ğŸ“Š Obter receitas com paginaÃ§Ã£o
```javascript
async function obterReceitas(pagina = 1, limite = 10) {
    try {
        const response = await fetch(`https://api-receitas-pi.vercel.app/receitas/todas?page=${pagina}&limit=${limite}`);
        const data = await response.json();
        
        console.log('Receitas:', data.data);
        console.log('InformaÃ§Ãµes de paginaÃ§Ã£o:', data.meta);
        
        return data;
    } catch (error) {
        console.error('Erro ao buscar receitas:', error);
    }
}
```

### ğŸ” Buscar receitas por descriÃ§Ã£o
```javascript
async function buscarReceitasPorDescricao(termo, pagina = 1) {
    try {
        const response = await fetch(
            `https://api-receitas-pi.vercel.app/receitas/descricao?descricao=${encodeURIComponent(termo)}&page=${pagina}&limit=15`
        );
        const data = await response.json();
        
        return data;
    } catch (error) {
        console.error('Erro na busca:', error);
    }
}
```

### ğŸ¤– Gerar receita com IA
```javascript
async function gerarReceitaIA(categoria, cozinha, token) {
    try {
        const url = `https://api-receitas-pi.vercel.app/ollama-ia/chat/categoria?categoria=${categoria}` + 
                   (cozinha ? `&cozinha=${cozinha}` : '');
        
        const response = await fetch(url, {
            method: 'POST',
            headers: {
                'Authorization': `Bearer ${token}`,
                'Content-Type': 'application/json'
            }
        });
        
        const receita = await response.json();
        return receita;
    } catch (error) {
        console.error('Erro ao gerar receita:', error);
    }
}

// Uso
gerarReceitaIA('doce', 'francesa', 'seu-jwt-token')
    .then(receita => console.log('Nova receita gerada:', receita));
```

### ğŸ” Fazer login e obter token
```javascript
async function fazerLogin(email, senha) {
    try {
        const response = await fetch('https://api-receitas-pi.vercel.app/login', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({
                email: email,
                password: senha
            })
        });
        
        const data = await response.json();
        
        if (data.access_token) {
            // Salvar token para uso futuro
            localStorage.setItem('authToken', data.access_token);
            return data.access_token;
        }
    } catch (error) {
        console.error('Erro no login:', error);
    }
}
```

## :dart: Exemplo de resposta de receita
```json
{
  "id": 1,
  "receita": "Bolo de Cenoura",
  "ingredientes": "3 cenouras mÃ©dias, 3 ovos, 1 xÃ­cara de Ã³leo, 2 xÃ­caras de farinha de trigo, 2 xÃ­caras de aÃ§Ãºcar, 1 colher de sopa de fermento em pÃ³",
  "modo_preparo": "1. Descasque e corte as cenouras em pedaÃ§os. 2. No liquidificador, bata as cenouras, os ovos e o Ã³leo atÃ© obter uma mistura homogÃªnea. 3. Em uma tigela, adicione a farinha de trigo, o aÃ§Ãºcar e o fermento. Misture bem. 4. Acrescente a mistura lÃ­quida do liquidificador Ã  tigela e mexa atÃ© incorporar todos os ingredientes. 5. Despeje a massa em uma forma untada e leve ao forno preaquecido a 180Â°C por aproximadamente 40 minutos ou atÃ© dourar. 6. Retire do forno, deixe esfriar e desenforme.",
  "link_imagem": "https://imagens-revista.vivadecora.com.br/uploads/2020/06/Bolo-de-cenoura-com-cobertura-Foto-Noticias-ao-Minuto.jpg",
  "tipo": "doce",
  "created_at": "2023-11-22T16:19:48.033Z",
  "IngredientesBase": [
    {
      "id": 1,
      "nomesIngrediente": [
        "cenoura",
        "ovos"
      ],
      "receita_id": 1,
      "created_at": "2023-11-22T16:19:48.033Z"
    }
  ]
}
```

## ğŸ”§ Tecnologias Utilizadas

- **Backend:** [NestJS](https://nestjs.com) + [TypeScript](https://www.typescriptlang.org/)
- **Banco de Dados:** [PostgreSQL](https://www.postgresql.org) + [Prisma ORM](https://www.prisma.io)
- **AutenticaÃ§Ã£o:** JWT + [Passport](https://www.passportjs.org/)
- **IA:** [Ollama](https://ollama.ai/) (GeraÃ§Ã£o de receitas)
- **Deploy:** [Vercel](https://vercel.com/)
- **ContainerizaÃ§Ã£o:** Docker (PostgreSQL)
- **Rate Limiting:** @nestjs/throttler
- **ValidaÃ§Ã£o:** class-validator

---

## ğŸ“š Como Executar Localmente

1. **Clone o repositÃ³rio**
```bash
git clone https://github.com/DenilsonRabelo/API-Receitas.git
cd API-Receitas
```

2. **Instale as dependÃªncias**
```bash
npm install
```

3. **Configure as variÃ¡veis de ambiente**
```bash
# Crie um arquivo .env na raiz do projeto
POSTGRES_PRISMA_URL="sua-url-do-postgres"
POSTGRES_URL_NON_POOLING="sua-url-sem-pooling"
JWT_SECRET="seu-jwt-secret"
```

4. **Execute o banco de dados com Docker**
```bash
docker-compose up -d
```

5. **Execute as migraÃ§Ãµes do Prisma**
```bash
npx prisma migrate dev
```

6. **Inicie o servidor**
```bash
npm run start:dev
```

A API estarÃ¡ disponÃ­vel em `http://localhost:3000`

## ğŸ“ LicenÃ§a

Este projeto estÃ¡ sob a licenÃ§a MIT. Veja o arquivo [LICENSE](https://github.com/DenilsonRabelo/API-Receitas/blob/main/LICENSE) para mais detalhes.

## ğŸš€ Autor

| [<img height="100" src="https://avatars.githubusercontent.com/u/80592413?v=4"><br><sub>@denilson.dev</sub>](https://github.com/DenilsonRabelo) |
|--|

---

<p align="center">
  Feito com â¤ï¸ por <a href="https://github.com/DenilsonRabelo">Denilson Rabelo</a>
</p>